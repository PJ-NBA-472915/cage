# Logrotate configuration for Cage application daily logs
# Rotates logs when they reach 50MB, keeps 14 rotated files, compresses old ones
# Uses [area]-[date].log format for rotated files

/var/log/cage/api/*.log {
    size 50M
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    dateext
    dateformat -%Y-%m-%d
    create 644 root root
}

/var/log/cage/crewai/*.log {
    size 50M
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    dateext
    dateformat -%Y-%m-%d
    create 644 root root
}

/var/log/cage/manage/*.log {
    size 50M
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    dateext
    dateformat -%Y-%m-%d
    create 644 root root
}

/var/log/cage/mcp/*.log {
    size 50M
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    dateext
    dateformat -%Y-%m-%d
    create 644 root root
}
